<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ´»ç”¨è‹±å˜èª 06</title>
    <link href="https://fonts.googleapis.com/css2?family=Klee+One:wght@600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4a90e2;
            --test-color: #62b300;
            --play-color: #e67e22;
            --bg-color: #f0f2f5;
        }
        body { font-family: 'Klee One', cursive, sans-serif; background-color: var(--bg-color); margin: 0; padding: 10px; }
        .container { max-width: 600px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); overflow: hidden; }
        
        .header { padding: 20px 15px; text-align: center; border-bottom: 2px solid var(--primary-color); background: white; }
        .main-title { font-size: 1.4rem; margin: 0; color: #333; }
        .sub-title-badge { display: inline-block; background: var(--primary-color); color: white; padding: 4px 18px; border-radius: 20px; font-size: 0.95rem; font-weight: bold; margin-top: 10px; }
        
        .controls { padding: 15px; background: #fafafa; border-bottom: 1px solid #ddd; }
        .nav-buttons { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        
        button { padding: 10px 15px; border: none; border-radius: 6px; background: var(--primary-color); color: white; cursor: pointer; font-weight: bold; font-family: inherit; }
        button:disabled { background-color: #ccc; }
        
        .interval-selector { display: flex; align-items: center; justify-content: center; gap: 5px; background: #eee; padding: 4px; border-radius: 10px; margin-bottom: 10px; }
        .interval-selector label { flex: 1; text-align: center; cursor: pointer; padding: 8px 2px; border-radius: 8px; font-size: 0.75rem; }
        .interval-selector input { display: none; }
        .interval-selector input:checked + span { background: white; display: block; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); color: var(--primary-color); font-weight: bold; }

        .test-mode-btn { width: 100%; background: var(--test-color); margin-top: 5px; }
        .test-mode-btn.active { background: white; color: var(--test-color); border: 2px solid var(--test-color); }

        .play-divider { background: #fff3e0; padding: 10px; text-align: center; border-bottom: 1px solid #ffe0b2; }
        .play-btn-inline { background: var(--play-color); width: 90%; font-size: 0.9rem; border-radius: 20px; }
        .play-btn-inline.playing { background: #d35400; outline: 3px solid #ffeb3b; }

        .word-list { display: flex; flex-direction: column; }
        .word-row { display: flex; align-items: center; padding: 15px 12px; border-bottom: 1px solid #eee; background: white; cursor: pointer; }
        .word-row.highlight { background-color: #fff9c4 !important; border-left: 5px solid var(--play-color); }

        .num-col { width: 35px; color: #999; font-size: 0.8rem; font-weight: bold; }
        .en-col { flex: 2.5; display: flex; flex-direction: column; gap: 4px; }
        .word-unit { display: flex; flex-direction: column; }
        .kana-small { font-size: 0.65rem; color: #888; margin-bottom: -2px; }
        .word-large { font-size: 1.25rem; color: #000; font-weight: bold; line-height: 1.2; }
        .word-sep { border-left: 3px solid #eee; padding-left: 10px; margin-left: 2px; }
        
        .ja-col { flex: 1.5; font-size: 0.9rem; color: #444; border-left: 2px solid #f0f0f0; padding-left: 15px; font-weight: bold; }
        .hide-ja .ja-col { visibility: hidden; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <div class="main-title">è‹±å˜èªã€€2å¹´ã€€å—ã‘èº«å½¢å˜èª80</div>
        <div class="sub-title-badge" id="subTitle">1ç•ª ã€œ 20ç•ª</div>
    </div>
    
    <div class="controls">
        <div class="nav-buttons">
            <button id="prevBtn" onclick="changePage(-1)">â† å‰</button>
            <span id="pageIndicator" style="font-weight: bold;">1 / 4</span>
            <button id="nextBtn" onclick="changePage(1)">æ¬¡ â†’</button>
        </div>

        <div class="interval-selector">
            <label><input type="radio" name="interval" value="500"><span>æ¬¡ã€…ã«<br>(0.5s)</span></label>
            <label><input type="radio" name="interval" value="1000" checked><span>ä¸€ã¤ãšã¤<br>(1.0s)</span></label>
            <label><input type="radio" name="interval" value="1500"><span>ã‚†ã£ãã‚Š<br>(1.5s)</span></label>
        </div>

        <button id="testModeBtn" class="test-mode-btn" onclick="toggleTestMode()">æ—¥æœ¬èªã‚’éš ã™ğŸ™ˆ</button>
    </div>

    <div id="wordList" class="word-list"></div>
</div>

<script>
    const wordData = [
        ["arrive", "arrived", "arrived", "ã‚¢ãƒ©ã‚¤ãƒ–", "ã‚¢ãƒ©ã‚¤ãƒ–ãƒ‰", "ã‚¢ãƒ©ã‚¤ãƒ–ãƒ‰", "åˆ°ç€ã™ã‚‹"],
        ["ask", "asked", "asked", "ã‚¢ã‚¹ã‚¯", "ã‚¢ã‚¹ã‚¯ãƒˆ", "ã‚¢ã‚¹ã‚¯ãƒˆ", "ãŸãšã­ã‚‹"],
        ["close", "closed", "closed", "ã‚¯ãƒ­ãƒ¼ã‚º", "ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰", "ã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰", "é–‰ã˜ã‚‹"],
        ["enjoy", "enjoyed", "enjoyed", "ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤", "ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤ãƒ‰", "ã‚¨ãƒ³ã‚¸ãƒ§ã‚¤ãƒ‰", "æ¥½ã—ã‚€"],
        ["help", "helped", "helped", "ãƒ˜ãƒ«ãƒ—", "ãƒ˜ãƒ«ãƒ—ãƒˆ", "ãƒ˜ãƒ«ãƒ—ãƒˆ", "åŠ©ã‘ã‚‹,æ‰‹ä¼ã†"],
        ["finish", "finished", "finished", "ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥", "ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥ãƒ‰", "ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥ãƒ‰", "çµ‚ã‚ã‚‹"],
        ["learn", "learned", "learned", "ãƒ©ãƒ¼ãƒ³", "ãƒ©ãƒ¼ãƒ³ãƒ‰", "ãƒ©ãƒ¼ãƒ³ãƒ‰", "å­¦ã¶"],
        ["live", "lived", "lived", "ãƒªãƒ–", "ãƒªãƒ–ãƒ‰ã‚¥", "ãƒªãƒ–ãƒ‰ã‚¥", "ä½ã‚€"],
        ["look", "looked", "looked", "ãƒ«ãƒƒã‚¯", "ãƒ«ãƒƒã‚¯ãƒˆã‚¥", "ãƒ«ãƒƒã‚¯ãƒˆã‚¥", "è¦‹ã‚‹"],
        ["need", "needed", "needed", "ãƒ‹ãƒ¼ãƒ‰", "ãƒ‹ãƒ¼ãƒ‡ã‚£ãƒƒãƒ‰", "ãƒ‹ãƒ¼ãƒ‡ã‚£ãƒƒãƒ‰", "å¿…è¦ã¨ã™ã‚‹"],
        ["stop", "stopped", "stopped", "ã‚¹ãƒˆãƒƒãƒ—", "ã‚¹ãƒˆãƒƒãƒ—ãƒ‰", "ã‚¹ãƒˆãƒƒãƒ—ãƒ‰", "æ­¢ã‚ã‚‹"],
        ["study", "studied", "studied", "ã‚¹ã‚¿ãƒ‡ã‚£", "ã‚¹ã‚¿ãƒ‡ã‚£ãƒ¼ãƒ‰", "ã‚¹ã‚¿ãƒ‡ã‚£ãƒ¼ãƒ‰", "å‹‰å¼·ã™ã‚‹"],
        ["talk", "talked", "talked", "ãƒˆãƒ¼ã‚¯", "ãƒˆãƒ¼ã‚¯ãƒˆ", "ãƒˆãƒ¼ã‚¯ãƒˆ", "è©±ã™"],
        ["try", "tried", "tried", "ãƒˆãƒ©ã‚¤", "ãƒˆãƒ©ã‚¤ãƒ‰", "ãƒˆãƒ©ã‚¤ãƒ‰", "è©¦ã¿ã‚‹"],
        ["use", "used", "used", "ãƒ¦ãƒ¼ã‚º", "ãƒ¦ãƒ¼ã‚ºãƒ‰", "ãƒ¦ãƒ¼ã‚ºãƒ‰", "ä½¿ã†"],
        ["visit", "visited", "visited", "ãƒ“ã‚¸ãƒƒãƒˆ", "ãƒ“ã‚¸ãƒ†ã‚£ãƒƒãƒ‰", "ãƒ“ã‚¸ãƒ†ã‚£ãƒƒãƒ‰", "è¨ªã‚Œã‚‹"],
        ["watch", "watched", "watched", "ã‚¦ã‚©ãƒƒãƒ", "ã‚¦ã‚©ãƒƒãƒãƒˆ", "ã‚¦ã‚©ãƒƒãƒãƒˆ", "è¦‹ã‚‹(TVç­‰)"],
        ["cut", "cut", "cut", "ã‚«ãƒƒãƒˆ", "ã‚«ãƒƒãƒˆ", "ã‚«ãƒƒãƒˆ", "åˆ‡ã‚‹"],
        ["hit", "hit", "hit", "ãƒ’ãƒƒãƒˆ", "ãƒ’ãƒƒãƒˆ", "ãƒ’ãƒƒãƒˆ", "æ‰“ã¤"],
        ["put", "put", "put", "ãƒ—ãƒƒãƒˆ", "ãƒ—ãƒƒãƒˆ", "ãƒ—ãƒƒãƒˆ", "ç½®ã"],
        ["quit", "quit", "quit", "ã‚¯ã‚¤ãƒƒãƒˆ", "ã‚¯ã‚¤ãƒƒãƒˆ", "ã‚¯ã‚¤ãƒƒãƒˆ", "ã‚„ã‚ã‚‹"],
        ["read", "read", "read", "ãƒªãƒ¼ãƒ‰", "ãƒ¬ãƒƒãƒ‰", "ãƒ¬ãƒƒãƒ‰", "èª­ã‚€"],
        ["become", "became", "become", "ãƒ“ã‚«ãƒ ", "ãƒ“ã‚±ã‚¤ãƒ ", "ãƒ“ã‚«ãƒ ", "ï½ã«ãªã‚‹"],
        ["come", "came", "come", "ã‚«ãƒ ", "ã‚±ã‚¤ãƒ ", "ã‚«ãƒ ", "æ¥ã‚‹"],
        ["run", "ran", "run", "ãƒ©ãƒ³", "ãƒ©ãƒ³", "ãƒ©ãƒ³", "èµ°ã‚‹"],
        ["bear", "born", "born", "ãƒ™ã‚¢ã‚¡", "ãƒœãƒ¼ãƒ³", "ãƒœãƒ¼ãƒ³", "ç”£ã‚€"],
        ["bring", "brought", "brought", "ãƒ–ãƒªãƒ³ã‚°", "ãƒ–ãƒ­ã‚¦ãƒˆ", "ãƒ–ãƒ­ã‚¦ãƒˆ", "æŒã£ã¦ãã‚‹"],
        ["build", "built", "built", "ãƒ“ãƒ«ãƒ‰ã‚¥", "ãƒ“ãƒ«ãƒˆã‚¥", "ãƒ“ãƒ«ãƒˆã‚¥", "å»ºã¦ã‚‹"],
        ["buy", "bought", "bought", "ãƒã‚¤", "ãƒœã‚¦ãƒˆ", "ãƒœã‚¦ãƒˆ", "è²·ã†"],
        ["catch", "caught", "caught", "ã‚­ãƒ£ãƒƒãƒ", "ã‚³ã‚¦ãƒˆ", "ã‚³ã‚¦ãƒˆ", "ã¤ã‹ã¾ãˆã‚‹"],
        ["feel", "felt", "felt", "ãƒ•ã‚£ãƒ¼ãƒ«", "ãƒ•ã‚§ãƒ«ãƒˆ", "ãƒ•ã‚§ãƒ«ãƒˆ", "æ„Ÿã˜ã‚‹"],
        ["find", "found", "found", "ãƒ•ã‚¡ã‚¤ãƒ³ãƒ‰", "ãƒ•ã‚¡ã‚¦ãƒ³ãƒ‰", "ãƒ•ã‚¡ã‚¦ãƒ³ãƒ‰", "è¦‹ã¤ã‘ã‚‹"],
        ["forget", "forgot", "forgot", "ãƒ•ã‚©ã‚²ãƒƒãƒˆ", "ãƒ•ã‚©ã‚´ãƒƒãƒˆ", "ãƒ•ã‚©ã‚´ãƒƒãƒˆ", "å¿˜ã‚Œã‚‹"],
        ["get", "got", "got", "ã‚²ãƒƒãƒˆ", "ã‚´ãƒƒãƒˆ", "ã‚´ãƒƒãƒˆ", "æ‰‹ã«å…¥ã‚Œã‚‹"],
        ["have/has", "had", "had", "ãƒãƒ–/ãƒã‚º", "ãƒãƒ‰", "ãƒãƒ‰", "æŒã£ã¦ã„ã‚‹"],
        ["hear", "heard", "heard", "ãƒ’ã‚¢ãƒ¼", "ãƒãƒ¼ãƒ‰", "ãƒãƒ¼ãƒ‰", "èã"],
        ["hold", "held", "held", "ãƒ›ãƒ¼ãƒ«ãƒ‰", "ãƒ˜ãƒ«ãƒ‰", "ãƒ˜ãƒ«ãƒ‰", "é–‹å‚¬ã™ã‚‹"],
        ["keep", "kept", "kept", "ã‚­ãƒ¼ãƒ—", "ã‚±ãƒ—ãƒˆ", "ã‚±ãƒ—ãƒˆ", "ä¿ã¤"],
        ["leave", "left", "left", "ãƒªãƒ¼ãƒ–", "ãƒ¬ãƒ•ãƒˆ", "ãƒ¬ãƒ•ãƒˆ", "å»ã‚‹"],
        ["lose", "lost", "lost", "ãƒ­ãƒ¼ã‚º", "ãƒ­ã‚¹ãƒˆ", "ãƒ­ã‚¹ãƒˆ", "è² ã‘ã‚‹"],
        ["make", "made", "made", "ãƒ¡ã‚¤ã‚¯", "ãƒ¡ã‚¤ãƒ‰", "ãƒ¡ã‚¤ãƒ‰", "ä½œã‚‹"],
        ["mean", "meant", "meant", "ãƒŸãƒ¼ãƒ³", "ãƒ¡ãƒ¼ãƒ³ãƒˆ", "ãƒ¡ãƒ¼ãƒ³ãƒˆ", "æ„å‘³ã™ã‚‹"],
        ["meet", "met", "met", "ãƒŸãƒ¼ãƒˆ", "ãƒ¡ãƒƒãƒˆ", "ãƒ¡ãƒƒãƒˆ", "ä¼šã†"],
        ["say", "said", "said", "ã‚»ã‚¤", "ã‚»ãƒ‰", "ã‚»ãƒ‰", "è¨€ã†"],
        ["sell", "sold", "sold", "ã‚»ãƒ«", "ã‚½ãƒ¼ãƒ«ãƒ‰", "ã‚½ãƒ¼ãƒ«ãƒ‰", "å£²ã‚‹"],
        ["send", "sent", "sent", "ã‚»ãƒ³ãƒ‰", "ã‚»ãƒ³ãƒˆ", "ã‚»ãƒ³ãƒˆ", "é€ã‚‹"],
        ["sit", "sat", "sat", "ã‚·ãƒƒãƒˆ", "ã‚µãƒƒãƒˆ", "ã‚µãƒƒãƒˆ", "ã™ã‚ã‚‹"],
        ["sleep", "slept", "slept", "ã‚¹ãƒªãƒ¼ãƒ—", "ã‚¹ãƒ¬ãƒ—ãƒˆ", "ã‚¹ãƒ¬ãƒ—ãƒˆ", "çœ ã‚‹"],
        ["stand", "stood", "stood", "ã‚¹ã‚¿ãƒ³ãƒ‰", "ã‚¹ãƒˆã‚¥ãƒƒãƒ‰", "ã‚¹ãƒˆã‚¥ãƒƒãƒ‰", "ç«‹ã¤"],
        ["teach", "taught", "taught", "ãƒ†ã‚£ãƒ¼ãƒ", "ãƒˆã‚¦ãƒˆ", "ãƒˆã‚¦ãƒˆ", "æ•™ãˆã‚‹"],
        ["tell", "told", "told", "ãƒ†ãƒ«", "ãƒˆãƒ¼ãƒ«ãƒ‰", "ãƒˆãƒ¼ãƒ«ãƒ‰", "ä¼ãˆã‚‹"],
        ["think", "thought", "thought", "ã‚·ã‚£ãƒ³ã‚¯", "ã‚½ã‚¦ãƒˆ", "ã‚½ã‚¦ãƒˆ", "è€ƒãˆã‚‹"],
        ["understand", "understood", "understood", "ã‚¢ãƒ³ãƒ€ã‚¹ã‚¿ãƒ³ãƒ‰", "ã‚¢ãƒ³ãƒ€ã‚¹ãƒˆã‚¥ãƒƒãƒ‰", "ã‚¢ãƒ³ãƒ€ã‚¹ãƒˆã‚¥ãƒƒãƒ‰", "ç†è§£ã™ã‚‹"],
        ["win", "won", "won", "ã‚¦ã‚£ãƒ³", "ã‚¦ã‚©ãƒ³", "ã‚¦ã‚©ãƒ³", "å‹ã¤"],
        ["am/is/are", "was/were", "been", "ã‚¢ãƒ ,ã‚¤ã‚º/ã‚¢ãƒ¼", "ãƒ¯ã‚º/ãƒ¯ãƒ¼", "ãƒ“ãƒ¼ãƒ³", "ï½ã§ã‚ã‚‹"],
        ["begin", "began", "begun", "ãƒ“ã‚®ãƒ³", "ãƒ“ã‚¬ãƒ³", "ãƒ“ã‚¬ãƒ³", "å§‹ã¾ã‚‹"],
        ["break", "broke", "broken", "ãƒ–ãƒ¬ã‚¤ã‚¯", "ãƒ–ãƒ­ãƒ¼ã‚¯", "ãƒ–ãƒ­ãƒ¼ã‚¯ãƒ³", "å£Šã™"],
        ["choose", "chose", "chosen", "ãƒãƒ¥ãƒ¼ã‚º", "ãƒãƒ§ã‚¦ã‚º", "ãƒãƒ§ã‚¦ã‚ºãƒ³", "é¸ã¶"],
        ["do", "did", "done", "ãƒ‰ã‚¥ãƒ¼", "ãƒ‡ã‚£ãƒ‰", "ãƒ‰ã‚¥ãƒ¼ãƒ³", "ã™ã‚‹"],
        ["draw", "drew", "drawn", "ãƒ‰ã‚¥ãƒ­ã‚¦", "ãƒ‰ã‚¥ãƒ«ã‚¦", "ãƒ‰ã‚¥ãƒ­ã‚¦ãƒ³", "æã"],
        ["drink", "drank", "drunk", "ãƒ‰ã‚¥ãƒªãƒ³ã‚¯", "ãƒ‰ãƒ©ãƒ³ã‚¯", "ãƒ‰ãƒ©ãƒ³ã‚¯", "é£²ã‚€"],
        ["drive", "drove", "driven", "ãƒ‰ãƒ©ã‚¤ãƒ–", "ãƒ‰ã‚¥ãƒ­ã‚¦ãƒ–", "ãƒ‰ãƒªãƒ–ãƒ³", "é‹è»¢ã™ã‚‹"],
        ["eat", "ate", "eaten", "ã‚¤ãƒ¼ãƒˆ", "ã‚¨ã‚¤ãƒˆ", "ã‚¤ãƒ¼ãƒˆã‚¥ãƒ³", "é£Ÿã¹ã‚‹"],
        ["fall", "fell", "fallen", "ãƒ•ã‚©ãƒ¼ãƒ«", "ãƒ•ã‚§ãƒ¼ãƒ«", "ãƒ•ã‚©ãƒ¼ãƒ¬ãƒ³", "è½ã¡ã‚‹"],
        ["give", "gave", "given", "ã‚®ãƒ–", "ã‚²ã‚¤ãƒ–", "ã‚®ãƒ–ãƒ³", "ä¸ãˆã‚‹"],
        ["go", "went", "gone", "ã‚´ãƒ¼", "ã‚¦ã‚§ãƒ³ãƒˆ", "ã‚´ãƒ¼ãƒ³", "è¡Œã"],
        ["grow", "grew", "grown", "ã‚°ãƒ­ã‚¦", "ã‚°ãƒ«ã‚¦", "ã‚°ãƒ­ã‚¦ãƒ³", "è‚²ã¤"],
        ["hide", "hid", "hidden", "ãƒã‚¤ãƒ‰", "ãƒ’ãƒ‰", "ãƒ’ãƒ‰ã‚¥ãƒ³", "éš ã‚Œã‚‹"],
        ["know", "knew", "known", "ãƒã‚¦", "ãƒ‹ãƒ¥ã‚¦", "ãƒã‚¦ãƒ³", "çŸ¥ã£ã¦ã„ã‚‹"],
        ["ride", "rode", "ridden", "ãƒ©ã‚¤ãƒ‰", "ãƒ­ã‚¦ãƒ‰", "ãƒªãƒ‰ã‚¥ãƒ³", "ä¹—ã‚‹"],
        ["rise", "rose", "risen", "ãƒ©ã‚¤ã‚º", "ãƒ­ã‚¥ã‚º", "ãƒªã‚ºãƒ³", "æ˜‡ã‚‹"],
        ["see", "saw", "seen", "ã‚¹ã‚£ãƒ¼", "ã‚½ã‚¦", "ã‚¹ã‚£ãƒ¼ãƒ³", "è¦‹ãˆã‚‹"],
        ["show", "showed", "shown", "ã‚·ãƒ§ã‚¦", "ã‚·ãƒ§ã‚¦ãƒ‰", "ã‚·ãƒ§ã‚¦ãƒ³", "è¦‹ã›ã‚‹"],
        ["sing", "sang", "sung", "ã‚·ãƒ³ã‚°", "ã‚µãƒ³ã‚°", "ã‚¹ãƒ³ã‚°", "æ­Œã†"],
        ["speak", "spoke", "spoken", "ã‚¹ãƒ”ãƒ¼ã‚¯", "ã‚¹ãƒãƒ¼ã‚¯", "ã‚¹ãƒãƒ¼ã‚¯ãƒ³", "è©±ã™"],
        ["swim", "swam", "swum", "ã‚¹ã‚¦ã‚£ãƒ ", "ã‚¹ãƒ¯ãƒ ", "ã‚¹ã‚¦ã‚¥ãƒ ", "æ³³ã"],
        ["take", "took", "taken", "ãƒ†ã‚¤ã‚¯", "ãƒˆã‚¥ãƒƒã‚¯", "ãƒ†ã‚¤ã‚¯ãƒ³", "å–ã‚‹"],
        ["throw", "threw", "thrown", "ã‚¹ãƒ­ã‚©", "ã‚¹ãƒªãƒ¥ã‚¥", "ã‚¹ãƒ­ã‚¥ãƒ³", "æŠ•ã’ã‚‹"],
        ["wear", "wore", "worn", "ã‚¦ã‚§ã‚¢", "ã‚¦ã‚©ã‚¢", "ã‚¦ã‚©ãƒ¼ãƒ³", "ç€ã¦ã„ã‚‹"],
        ["write", "wrote", "written", "ãƒ©ã‚¤ãƒˆ", "ãƒ­ã‚¦ãƒˆ", "ãƒªãƒˆã‚¥ãƒ³", "æ›¸ã"]
    ];

    let currentPage = 0;
    const pageSize = 20;
    let isAutoPlaying = false;

    function render() {
        stopAutoPlay();
        const list = document.getElementById('wordList');
        list.innerHTML = '';
        const start = currentPage * pageSize;
        const end = Math.min(start + pageSize, wordData.length);
        const maxPages = Math.ceil(wordData.length / pageSize);

        document.getElementById('subTitle').innerText = `${start + 1}ç•ª ã€œ ${end}ç•ª`;
        document.getElementById('pageIndicator').innerText = `${currentPage + 1} / ${maxPages}`;
        document.getElementById('prevBtn').disabled = (currentPage === 0);
        document.getElementById('nextBtn').disabled = (currentPage === maxPages - 1);

        for (let i = start; i < end; i++) {
            const indexInPage = i - start;
            if (indexInPage % 5 === 0) {
                const div = document.createElement('div');
                div.className = 'play-divider';
                div.innerHTML = `<button class="play-btn-inline" id="btn-play-${indexInPage}" onclick="playGroup(${indexInPage}, 5)">â–¶ ${i+1}-${Math.min(i+5, wordData.length)} é€£ç¶šå†ç”Ÿ</button>`;
                list.appendChild(div);
            }

            const row = document.createElement('div');
            row.className = 'word-row';
            row.id = `row-${indexInPage}`;
            row.onclick = () => speakTriple(wordData[i][0], wordData[i][1], wordData[i][2]);
            
            row.innerHTML = `
                <div class="num-col">${i + 1}</div>
                <div class="en-col">
                    <div class="word-unit">
                        <span class="kana-small">${wordData[i][3]}</span>
                        <span class="word-large">${wordData[i][0]}</span>
                    </div>
                    <div class="word-unit word-sep">
                        <span class="kana-small">${wordData[i][4]}</span>
                        <span class="word-large">â†’ ${wordData[i][1]}</span>
                    </div>
                    <div class="word-unit word-sep">
                        <span class="kana-small">${wordData[i][5]}</span>
                        <span class="word-large">â†’ ${wordData[i][2]}</span>
                    </div>
                </div>
                <div class="ja-col">${wordData[i][6]}</div>
            `;
            list.appendChild(row);
        }
    }

    function changePage(n) {
        currentPage += n;
        render();
        window.scrollTo(0, 0);
    }

    function toggleTestMode() {
        document.getElementById('wordList').classList.toggle('hide-ja');
        const btn = document.getElementById('testModeBtn');
        btn.classList.toggle('active');
        btn.innerText = btn.classList.contains('active') ? "æ—¥æœ¬èªã‚’è¡¨ç¤ºğŸ‘ï¸" : "æ—¥æœ¬èªã‚’éš ã™ğŸ™ˆ";
    }

    function speak(text, callback) {
        const targetText = text.includes('/') ? text.split('/')[0] : text;
        const msg = new SpeechSynthesisUtterance(targetText);
        msg.lang = 'en-US';
        msg.rate = 0.75; // èª­ã¿ä¸Šã’é€Ÿåº¦
        msg.onend = callback;
        speechSynthesis.speak(msg);
    }

    async function speakTriple(v1, v2, v3, callback) {
        speechSynthesis.cancel();
        const innerDelay = 500; // ã“ã“ã§å˜èªé–“ã®å¾…ã¡æ™‚é–“ã‚’èª¿æ•´

        await new Promise(r => speak(v1, r));
        await new Promise(r => setTimeout(r, innerDelay));
        
        await new Promise(r => speak(v2, r));
        await new Promise(r => setTimeout(r, innerDelay));
        
        await new Promise(r => speak(v3, r));
        
        if(callback) callback();
    }

    async function playGroup(startIndex, count) {
        if (isAutoPlaying) { stopAutoPlay(); return; }
        isAutoPlaying = true;
        
        const btn = document.getElementById(`btn-play-${startIndex}`);
        btn.classList.add('playing');
        btn.innerText = "â–  åœæ­¢";
        
        const startIdx = currentPage * pageSize;
        const interval = parseInt(document.querySelector('input[name="interval"]:checked').value);

        for (let i = startIndex; i < startIndex + count; i++) {
            if (!isAutoPlaying || !wordData[startIdx + i]) break;
            
            document.querySelectorAll('.word-row').forEach(r => r.classList.remove('highlight'));
            const currentRow = document.getElementById(`row-${i}`);
            if (currentRow) {
                currentRow.classList.add('highlight');
                currentRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            
            await new Promise(res => {
                speakTriple(wordData[startIdx + i][0], wordData[startIdx + i][1], wordData[startIdx + i][2], () => {
                    setTimeout(res, interval);
                });
            });
        }
        stopAutoPlay();
    }

    function stopAutoPlay() {
        isAutoPlaying = false;
        speechSynthesis.cancel();
        document.querySelectorAll('.play-btn-inline').forEach((b, idx) => {
            b.classList.remove('playing');
            const num = (currentPage * pageSize) + (idx * 5) + 1;
            b.innerText = `â–¶ ${num}-${Math.min(num+4, wordData.length)} é€£ç¶šå†ç”Ÿ`;
        });
        document.querySelectorAll('.word-row').forEach(r => r.classList.remove('highlight'));
    }

    render();
</script>
</body>
</html>
